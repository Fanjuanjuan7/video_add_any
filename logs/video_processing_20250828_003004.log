2025-08-28 00:30:04 - INFO - ============================================================
2025-08-28 00:30:04 - INFO - 🖥️  系统信息
2025-08-28 00:30:04 - INFO - 操作系统: Darwin 24.5.0
2025-08-28 00:30:04 - INFO - Python版本: 3.13.5
2025-08-28 00:30:04 - INFO - 工作目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp
2025-08-28 00:30:04 - INFO - FFmpeg版本: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-08-28 00:30:04 - INFO - ============================================================
2025-08-28 00:30:04 - INFO - ============================================================
2025-08-28 00:30:04 - INFO - 🖥️  系统信息
2025-08-28 00:30:04 - INFO - 操作系统: Darwin 24.5.0
2025-08-28 00:30:04 - INFO - Python版本: 3.13.5
2025-08-28 00:30:04 - INFO - 工作目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp
2025-08-28 00:30:05 - INFO - FFmpeg版本: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-08-28 00:30:05 - INFO - ============================================================
2025-08-28 00:30:05 - INFO - 🎉 视频处理应用启动
2025-08-28 00:30:21 - INFO - 🚀 开始批量处理视频，总数: 2 个
2025-08-28 00:30:21 - INFO - 📋 处理参数: style=random, lang=malay
2025-08-28 00:30:21 - INFO - 📋 素材设置: subtitle=True, bg=False, img=True
2025-08-28 00:30:21 - INFO - 📋 随机位置: True
2025-08-28 00:30:21 - INFO - 🎥 开始处理视频 1/2: 1.mp4
2025-08-28 00:30:21 - INFO - 🚀 开始执行: process_video
2025-08-28 00:30:21 - INFO - 📥 参数: args=('/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4', '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4', 'random', 'malay', True, 50, 1210, 40, 0, 1420, 550, 180, 500, -50, 1230, True, True, False, True, True, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music', 'sequence', 71, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv', True, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif', 30, 1.0, 800, 200, 1.1, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image', 600), kwargs={'quality_settings': {'crf_value': 18, 'preset_value': 'slow', 'profile_value': 'high', 'level_value': '4.1', 'maxrate_value': 8000, 'bufsize_value': 16000, 'gop_value': 30, 'tune_value': 'film', 'pixfmt_value': 'yuv420p'}}
2025-08-28 00:30:21 - INFO - 开始处理视频: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4
2025-08-28 00:30:21 - INFO - 开始处理视频: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4
2025-08-28 00:30:21 - INFO - 图片位置设置: 水平=50（宽度比例）, 垂直=1210（像素偏移）
2025-08-28 00:30:21 - INFO - 图片位置设置: 水平=50（宽度比例）, 垂直=1210（像素偏移）
2025-08-28 00:30:21 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4
2025-08-28 00:30:21 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4
2025-08-28 00:30:21 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:21 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:21 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:21 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:21 - INFO - 视频 (10.052993秒): 进行水印处理，缩放系数: 1.1
2025-08-28 00:30:21 - INFO - 视频 (10.052993秒): 进行水印处理，缩放系数: 1.1
2025-08-28 00:30:21 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:21 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:21 - INFO - 【去水印】原始视频尺寸: 1080x1912
2025-08-28 00:30:21 - INFO - 【去水印】原始视频尺寸: 1080x1912
2025-08-28 00:30:21 - INFO - 【去水印】缩放系数: 1.1
2025-08-28 00:30:21 - INFO - 【去水印】缩放系数: 1.1
2025-08-28 00:30:21 - INFO - 【去水印】铺满缩放比例: 1.004
2025-08-28 00:30:21 - INFO - 【去水印】铺满缩放比例: 1.004
2025-08-28 00:30:21 - INFO - 【去水印】最终缩放比例: 1.105
2025-08-28 00:30:21 - INFO - 【去水印】最终缩放比例: 1.105
2025-08-28 00:30:21 - INFO - 【去水印】缩放后尺寸: 1192x2112
2025-08-28 00:30:21 - INFO - 【去水印】缩放后尺寸: 1192x2112
2025-08-28 00:30:21 - INFO - 【去水印】裁剪位置: (56, 96)
2025-08-28 00:30:21 - INFO - 【去水印】裁剪位置: (56, 96)
2025-08-28 00:30:21 - INFO - 【去水印】裁剪尺寸: 1080x1920
2025-08-28 00:30:21 - INFO - 【去水印】裁剪尺寸: 1080x1920
2025-08-28 00:30:21 - INFO - 【去水印】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4
2025-08-28 00:30:21 - INFO - 【去水印】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4
2025-08-28 00:30:21 - INFO - 执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4
2025-08-28 00:30:21 - INFO - 执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4
2025-08-28 00:30:21 - INFO - 🎥 执行FFmpeg命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p...
2025-08-28 00:30:22 - INFO - ✅ FFmpeg命令执行成功
2025-08-28 00:30:22 - INFO - 【去水印】处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4
2025-08-28 00:30:22 - INFO - 【去水印】处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4
2025-08-28 00:30:22 - INFO - 🚀 开始执行: add_subtitle_to_video
2025-08-28 00:30:22 - INFO - 📥 参数: args=(PosixPath('/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4'), '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4', 'random', 'malay', '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/1.mp4'), kwargs={'quicktime_compatible': True, 'img_position_x': 50, 'img_position_y': 1210, 'font_size': 40, 'subtitle_x': 0, 'subtitle_y': 1420, 'bg_width': 550, 'bg_height': 180, 'img_size': 500, 'subtitle_text_x': -50, 'subtitle_text_y': 1230, 'random_position': True, 'enable_subtitle': True, 'enable_background': False, 'enable_image': True, 'enable_music': True, 'music_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music', 'music_mode': 'sequence', 'music_volume': 71, 'document_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv', 'enable_gif': True, 'gif_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif', 'gif_loop_count': 30, 'gif_scale': 1.0, 'gif_x': 800, 'gif_y': 200, 'scale_factor': 1.1, 'image_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image', 'subtitle_width': 600, 'quality_settings': {'crf_value': 18, 'preset_value': 'slow', 'profile_value': 'high', 'level_value': '4.1', 'maxrate_value': 8000, 'bufsize_value': 16000, 'gop_value': 30, 'tune_value': 'film', 'pixfmt_value': 'yuv420p'}}
2025-08-28 00:30:22 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn
2025-08-28 00:30:22 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn
2025-08-28 00:30:22 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn
2025-08-28 00:30:22 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:22 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:22 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:22 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:22 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:22 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:22 - INFO - 使用用户选择的文档文件: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv
2025-08-28 00:30:22 - INFO - 使用用户选择的文档文件: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv
2025-08-28 00:30:22 - INFO - 使用用户选择的文档文件: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv
2025-08-28 00:30:22 - INFO - 成功加载用户文档: 30 条记录
2025-08-28 00:30:22 - INFO - 成功加载用户文档: 30 条记录
2025-08-28 00:30:22 - INFO - 成功加载用户文档: 30 条记录
2025-08-28 00:30:22 - INFO - 文档列名: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 文档列名: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 文档列名: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:22 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:22 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:22 - INFO - 非中文语言，选择非中文样式: style2
2025-08-28 00:30:22 - INFO - 非中文语言，选择非中文样式: style2
2025-08-28 00:30:22 - INFO - 非中文语言，选择非中文样式: style2
2025-08-28 00:30:22 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(187, 727)
2025-08-28 00:30:22 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(187, 727)
2025-08-28 00:30:22 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(187, 727)
2025-08-28 00:30:22 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:22 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:22 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:22 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:22 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:22 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:22 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(187, 727)
2025-08-28 00:30:22 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:22 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:22 - INFO - 🎬 【素材状态调试】图片功能启用状态: True
2025-08-28 00:30:22 - INFO - 🎬 【素材状态调试】图片功能启用状态: True
2025-08-28 00:30:22 - INFO - 🎬 【素材状态调试】图片功能启用状态: True
2025-08-28 00:30:22 - INFO - 📁 图片功能已启用，开始查找匹配图片...
2025-08-28 00:30:22 - INFO - 📁 图片功能已启用，开始查找匹配图片...
2025-08-28 00:30:22 - INFO - 📁 图片功能已启用，开始查找匹配图片...
2025-08-28 00:30:22 - INFO - 📁 使用原始视频名查找图片: 1
2025-08-28 00:30:22 - INFO - 📁 使用原始视频名查找图片: 1
2025-08-28 00:30:22 - INFO - 📁 使用原始视频名查找图片: 1
2025-08-28 00:30:22 - INFO - 查找匹配图片，视频名称: 1
2025-08-28 00:30:22 - INFO - 查找匹配图片，视频名称: 1
2025-08-28 00:30:22 - INFO - 查找匹配图片，视频名称: 1
2025-08-28 00:30:22 - INFO - 使用用户自定义图片目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:22 - INFO - 使用用户自定义图片目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:22 - INFO - 使用用户自定义图片目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:22 - INFO - 最终图片目录路径: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:22 - INFO - 最终图片目录路径: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:22 - INFO - 最终图片目录路径: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:22 - INFO - 目录中的文件数量: 4
2025-08-28 00:30:22 - INFO - 目录中的文件数量: 4
2025-08-28 00:30:22 - INFO - 目录中的文件数量: 4
2025-08-28 00:30:22 - INFO - 目录中的所有文件: ['.DS_Store', '2.png', '3.png', '1.png']
2025-08-28 00:30:22 - INFO - 目录中的所有文件: ['.DS_Store', '2.png', '3.png', '1.png']
2025-08-28 00:30:22 - INFO - 目录中的所有文件: ['.DS_Store', '2.png', '3.png', '1.png']
2025-08-28 00:30:22 - INFO - 找到完全匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - 找到完全匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - 找到完全匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - 【图片流程】处理图片 /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png，大小设置为 500x500
2025-08-28 00:30:22 - INFO - 【图片流程】处理图片 /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png，大小设置为 500x500
2025-08-28 00:30:22 - INFO - 【图片流程】处理图片 /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png，大小设置为 500x500
2025-08-28 00:30:22 - INFO - 【图片处理】原始图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - 【图片处理】原始图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - 【图片处理】原始图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO - 【图片处理】目标大小: (500, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】目标大小: (500, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】目标大小: (500, 500)
2025-08-28 00:30:22 - DEBUG - STREAM b'IHDR' 16 13
2025-08-28 00:30:22 - DEBUG - STREAM b'eXIf' 41 130
2025-08-28 00:30:22 - DEBUG - STREAM b'IDAT' 183 8192
2025-08-28 00:30:22 - INFO - 【图片处理】原始图片大小: (1125, 2436)
2025-08-28 00:30:22 - INFO - 【图片处理】原始图片大小: (1125, 2436)
2025-08-28 00:30:22 - INFO - 【图片处理】原始图片大小: (1125, 2436)
2025-08-28 00:30:22 - INFO - 【图片处理】缩放后图片大小: (230, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】缩放后图片大小: (230, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】缩放后图片大小: (230, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】图片处理完成，保存到: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - INFO - 【图片处理】图片处理完成，保存到: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - INFO - 【图片处理】图片处理完成，保存到: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - DEBUG - STREAM b'IHDR' 16 13
2025-08-28 00:30:22 - DEBUG - STREAM b'IDAT' 41 20844
2025-08-28 00:30:22 - INFO - 【图片处理】验证处理后图片大小: (230, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】验证处理后图片大小: (230, 500)
2025-08-28 00:30:22 - INFO - 【图片处理】验证处理后图片大小: (230, 500)
2025-08-28 00:30:22 - INFO - ✅ 【图片流程】图片处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - INFO - ✅ 【图片流程】图片处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - INFO - ✅ 【图片流程】图片处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - INFO - 【GIF流程】处理GIF /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif，缩放系数: 1.0，位置: (800, 200)，循环次数: 30
2025-08-28 00:30:22 - INFO - 【GIF流程】处理GIF /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif，缩放系数: 1.0，位置: (800, 200)，循环次数: 30
2025-08-28 00:30:22 - INFO - 【GIF流程】处理GIF /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif，缩放系数: 1.0，位置: (800, 200)，循环次数: 30
2025-08-28 00:30:22 - INFO - 【GIF流程】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif -vf format=rgba,colorkey=0x000000:0.01:0.1 -pix_fmt rgba -f gif -loop 30 /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO - 【GIF流程】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif -vf format=rgba,colorkey=0x000000:0.01:0.1 -pix_fmt rgba -f gif -loop 30 /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO - 【GIF流程】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif -vf format=rgba,colorkey=0x000000:0.01:0.1 -pix_fmt rgba -f gif -loop 30 /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO - 【GIF流程】GIF处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO - 【GIF流程】GIF处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO - 【GIF流程】GIF处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO - 
=== 语言映射调试信息 ===
2025-08-28 00:30:22 - INFO - 
=== 语言映射调试信息 ===
2025-08-28 00:30:22 - INFO - 
=== 语言映射调试信息 ===
2025-08-28 00:30:22 - INFO - GUI选择的语言: malay
2025-08-28 00:30:22 - INFO - GUI选择的语言: malay
2025-08-28 00:30:22 - INFO - GUI选择的语言: malay
2025-08-28 00:30:22 - INFO - 用户期望的映射关系:
2025-08-28 00:30:22 - INFO - 用户期望的映射关系:
2025-08-28 00:30:22 - INFO - 用户期望的映射关系:
2025-08-28 00:30:22 - INFO -   中文 (chinese) → zn列
2025-08-28 00:30:22 - INFO -   中文 (chinese) → zn列
2025-08-28 00:30:22 - INFO -   中文 (chinese) → zn列
2025-08-28 00:30:22 - INFO -   马来语 (malay) → malay_title列
2025-08-28 00:30:22 - INFO -   马来语 (malay) → malay_title列
2025-08-28 00:30:22 - INFO -   马来语 (malay) → malay_title列
2025-08-28 00:30:22 - INFO -   泰语 (thai) → title_thai列
2025-08-28 00:30:22 - INFO -   泰语 (thai) → title_thai列
2025-08-28 00:30:22 - INFO -   泰语 (thai) → title_thai列
2025-08-28 00:30:22 - INFO - 当前文档可用列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 当前文档可用列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 当前文档可用列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - =========================
2025-08-28 00:30:22 - INFO - =========================
2025-08-28 00:30:22 - INFO - =========================
2025-08-28 00:30:22 - INFO - 可用的文档列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 可用的文档列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - 可用的文档列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:22 - INFO - ✅ 马来语映射成功：从 'malay_title' 列随机选择字幕: Diskon gila! Tak beli rugi sampai menangis!
2025-08-28 00:30:22 - INFO - ✅ 马来语映射成功：从 'malay_title' 列随机选择字幕: Diskon gila! Tak beli rugi sampai menangis!
2025-08-28 00:30:22 - INFO - ✅ 马来语映射成功：从 'malay_title' 列随机选择字幕: Diskon gila! Tak beli rugi sampai menangis!
2025-08-28 00:30:22 - INFO - 传递给create_subtitle_image的字体大小: 40
2025-08-28 00:30:22 - INFO - 传递给create_subtitle_image的字体大小: 40
2025-08-28 00:30:22 - INFO - 传递给create_subtitle_image的字体大小: 40
2025-08-28 00:30:22 - INFO - 创建字幕图片: 宽=1280, 高=500, 字体大小=40, 样式=style2
2025-08-28 00:30:22 - INFO - 创建字幕图片: 宽=1280, 高=500, 字体大小=40, 样式=style2
2025-08-28 00:30:22 - INFO - 创建字幕图片: 宽=1280, 高=500, 字体大小=40, 样式=style2
2025-08-28 00:30:22 - INFO - 字幕内容: Diskon gila! Tak beli rugi sampai menangis!
2025-08-28 00:30:22 - INFO - 字幕内容: Diskon gila! Tak beli rugi sampai menangis!
2025-08-28 00:30:22 - INFO - 字幕内容: Diskon gila! Tak beli rugi sampai menangis!
2025-08-28 00:30:22 - INFO - 是否包含中文: False
2025-08-28 00:30:22 - INFO - 是否包含中文: False
2025-08-28 00:30:22 - INFO - 是否包含中文: False
2025-08-28 00:30:22 - INFO - 是否包含泰文: False
2025-08-28 00:30:22 - INFO - 是否包含泰文: False
2025-08-28 00:30:22 - INFO - 是否包含泰文: False
2025-08-28 00:30:22 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:22 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:22 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:22 - INFO - 成功加载样式配置: {'font_path': 'data/fonts/Montserrat-Bold.ttf', 'font_size': 85, 'text_color': [192, 236, 14, 255], 'stroke_color': [0, 51, 102, 255], 'stroke_width': 4, 'white_stroke_ratio': 1.2, 'shadow': False, 'shadow_color': [0, 0, 0, 0], 'shadow_offset': [0, 0]}
2025-08-28 00:30:22 - INFO - 成功加载样式配置: {'font_path': 'data/fonts/Montserrat-Bold.ttf', 'font_size': 85, 'text_color': [192, 236, 14, 255], 'stroke_color': [0, 51, 102, 255], 'stroke_width': 4, 'white_stroke_ratio': 1.2, 'shadow': False, 'shadow_color': [0, 0, 0, 0], 'shadow_offset': [0, 0]}
2025-08-28 00:30:22 - INFO - 成功加载样式配置: {'font_path': 'data/fonts/Montserrat-Bold.ttf', 'font_size': 85, 'text_color': [192, 236, 14, 255], 'stroke_color': [0, 51, 102, 255], 'stroke_width': 4, 'white_stroke_ratio': 1.2, 'shadow': False, 'shadow_color': [0, 0, 0, 0], 'shadow_offset': [0, 0]}
2025-08-28 00:30:22 - INFO - 使用自定义字体路径: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 使用自定义字体路径: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 使用自定义字体路径: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 使用传入的字体大小: 40
2025-08-28 00:30:22 - INFO - 使用传入的字体大小: 40
2025-08-28 00:30:22 - INFO - 使用传入的字体大小: 40
2025-08-28 00:30:22 - INFO - 使用自定义文本颜色: (192, 236, 14, 255)
2025-08-28 00:30:22 - INFO - 使用自定义文本颜色: (192, 236, 14, 255)
2025-08-28 00:30:22 - INFO - 使用自定义文本颜色: (192, 236, 14, 255)
2025-08-28 00:30:22 - INFO - 使用自定义描边颜色: (0, 51, 102, 255)
2025-08-28 00:30:22 - INFO - 使用自定义描边颜色: (0, 51, 102, 255)
2025-08-28 00:30:22 - INFO - 使用自定义描边颜色: (0, 51, 102, 255)
2025-08-28 00:30:22 - INFO - 使用自定义描边宽度: 4
2025-08-28 00:30:22 - INFO - 使用自定义描边宽度: 4
2025-08-28 00:30:22 - INFO - 使用自定义描边宽度: 4
2025-08-28 00:30:22 - INFO - 使用自定义白色描边比例: 1.2
2025-08-28 00:30:22 - INFO - 使用自定义白色描边比例: 1.2
2025-08-28 00:30:22 - INFO - 使用自定义白色描边比例: 1.2
2025-08-28 00:30:22 - INFO - 使用自定义阴影设置: False
2025-08-28 00:30:22 - INFO - 使用自定义阴影设置: False
2025-08-28 00:30:22 - INFO - 使用自定义阴影设置: False
2025-08-28 00:30:22 - INFO - 使用自定义阴影颜色: (0, 0, 0, 0)
2025-08-28 00:30:22 - INFO - 使用自定义阴影颜色: (0, 0, 0, 0)
2025-08-28 00:30:22 - INFO - 使用自定义阴影颜色: (0, 0, 0, 0)
2025-08-28 00:30:22 - INFO - 使用自定义阴影偏移: [0, 0]
2025-08-28 00:30:22 - INFO - 使用自定义阴影偏移: [0, 0]
2025-08-28 00:30:22 - INFO - 使用自定义阴影偏移: [0, 0]
2025-08-28 00:30:22 - INFO - 找到字体文件: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 找到字体文件: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 找到字体文件: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 找到字体文件: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 找到字体文件: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 找到字体文件: data/fonts/Montserrat-Bold.ttf
2025-08-28 00:30:22 - INFO - 成功加载字体 data/fonts/Montserrat-Bold.ttf，大小: 40
2025-08-28 00:30:22 - INFO - 成功加载字体 data/fonts/Montserrat-Bold.ttf，大小: 40
2025-08-28 00:30:22 - INFO - 成功加载字体 data/fonts/Montserrat-Bold.ttf，大小: 40
2025-08-28 00:30:22 - INFO - 原始行数: 1, 自动换行后行数: 2
2025-08-28 00:30:22 - INFO - 原始行数: 1, 自动换行后行数: 2
2025-08-28 00:30:22 - INFO - 原始行数: 1, 自动换行后行数: 2
2025-08-28 00:30:22 - INFO - 字幕最大宽度设置: 600px
2025-08-28 00:30:22 - INFO - 字幕最大宽度设置: 600px
2025-08-28 00:30:22 - INFO - 字幕最大宽度设置: 600px
2025-08-28 00:30:22 - INFO - 行高: 52, 总高度: 104, 起始Y: 198
2025-08-28 00:30:22 - INFO - 行高: 52, 总高度: 104, 起始Y: 198
2025-08-28 00:30:22 - INFO - 行高: 52, 总高度: 104, 起始Y: 198
2025-08-28 00:30:22 - INFO - 行 1: 宽度=515.671875, X=382.0, Y=198
2025-08-28 00:30:22 - INFO - 行 1: 宽度=515.671875, X=382.0, Y=198
2025-08-28 00:30:22 - INFO - 行 1: 宽度=515.671875, X=382.0, Y=198
2025-08-28 00:30:22 - INFO - 行 2: 宽度=383.46875, X=448.0, Y=250
2025-08-28 00:30:22 - INFO - 行 2: 宽度=383.46875, X=448.0, Y=250
2025-08-28 00:30:22 - INFO - 行 2: 宽度=383.46875, X=448.0, Y=250
2025-08-28 00:30:22 - INFO - 字幕图片已保存: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 字幕图片已保存: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 字幕图片已保存: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 字幕图片生成成功，路径: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 字幕图片生成成功，路径: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 字幕图片生成成功，路径: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 背景功能已禁用，跳过背景生成
2025-08-28 00:30:22 - INFO - 背景功能已禁用，跳过背景生成
2025-08-28 00:30:22 - INFO - 背景功能已禁用，跳过背景生成
2025-08-28 00:30:22 - INFO - 【位置调试】背景位置: x=0, y=1420, 宽=550, 高=180
2025-08-28 00:30:22 - INFO - 【位置调试】背景位置: x=0, y=1420, 宽=550, 高=180
2025-08-28 00:30:22 - INFO - 【位置调试】背景位置: x=0, y=1420, 宽=550, 高=180
2025-08-28 00:30:22 - INFO - 【位置调试】字幕位置: x=187, y=727, 字体大小=40
2025-08-28 00:30:22 - INFO - 【位置调试】字幕位置: x=187, y=727, 字体大小=40
2025-08-28 00:30:22 - INFO - 【位置调试】字幕位置: x=187, y=727, 字体大小=40
2025-08-28 00:30:22 - INFO - 【位置调试】图片位置: x=50, y=1210, 大小=500
2025-08-28 00:30:22 - INFO - 【位置调试】图片位置: x=50, y=1210, 大小=500
2025-08-28 00:30:22 - INFO - 【位置调试】图片位置: x=50, y=1210, 大小=500
2025-08-28 00:30:22 - INFO - 【位置调试】传入的参数: img_position_x=50, img_position_y=1210
2025-08-28 00:30:22 - INFO - 【位置调试】传入的参数: img_position_x=50, img_position_y=1210
2025-08-28 00:30:22 - INFO - 【位置调试】传入的参数: img_position_x=50, img_position_y=1210
2025-08-28 00:30:22 - INFO - 【位置调试】字幕动画参数: 入场时间=3.0秒, 起始位置=(187, 1970), 最终位置=(187, 727)
2025-08-28 00:30:22 - INFO - 【位置调试】字幕动画参数: 入场时间=3.0秒, 起始位置=(187, 1970), 最终位置=(187, 727)
2025-08-28 00:30:22 - INFO - 【位置调试】字幕动画参数: 入场时间=3.0秒, 起始位置=(187, 1970), 最终位置=(187, 727)
2025-08-28 00:30:22 - INFO - 【位置调试】背景动画参数: 入场时间=3.0秒, 起始位置=(-550, 1420), 最终位置=(0, 1420)
2025-08-28 00:30:22 - INFO - 【位置调试】背景动画参数: 入场时间=3.0秒, 起始位置=(-550, 1420), 最终位置=(0, 1420)
2025-08-28 00:30:22 - INFO - 【位置调试】背景动画参数: 入场时间=3.0秒, 起始位置=(-550, 1420), 最终位置=(0, 1420)
2025-08-28 00:30:22 - INFO - 【位置调试】图片动画参数: 入场时间=3.0秒, 起始位置=(-500, 1210), 最终位置=(50, 1210)
2025-08-28 00:30:22 - INFO - 【位置调试】图片动画参数: 入场时间=3.0秒, 起始位置=(-500, 1210), 最终位置=(50, 1210)
2025-08-28 00:30:22 - INFO - 【位置调试】图片动画参数: 入场时间=3.0秒, 起始位置=(-500, 1210), 最终位置=(50, 1210)
2025-08-28 00:30:22 - INFO - 📍 最终位置参数: 字幕=(187, 727), 背景=(0, 1420), 图片=(50, 1210)
2025-08-28 00:30:22 - INFO - 应用QuickTime兼容性参数
2025-08-28 00:30:22 - INFO - 应用QuickTime兼容性参数
2025-08-28 00:30:22 - INFO - 应用QuickTime兼容性参数
2025-08-28 00:30:22 - INFO - 🔨 开始添加输入文件
2025-08-28 00:30:22 - INFO -   📝 添加字幕输入: 索引1, 文件/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO -   📸 添加图片输入: 索引2, 文件/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png
2025-08-28 00:30:22 - INFO -   🎞️ 添加GIF输入: 索引3, 文件/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO -   📊 总输入文件数: 4 (包括主视频)
2025-08-28 00:30:22 - INFO - 🔍 开始构建过滤器链
2025-08-28 00:30:22 - INFO -   🎬 基础视频流: [0:v] -> [v1]
2025-08-28 00:30:22 - INFO - 🎨 格式化图层
2025-08-28 00:30:22 - INFO -   📝 字幕图层: [1:v] -> [s1]
2025-08-28 00:30:22 - INFO -   📸 图片图层: [2:v] -> [img]
2025-08-28 00:30:22 - INFO -   🎞️ GIF图层: [3:v] -> [gif]
2025-08-28 00:30:22 - INFO - 🔄 开始叠加层处理
2025-08-28 00:30:22 - INFO -   📸 添加图片叠加: v1 + img -> v2
2025-08-28 00:30:22 - INFO -     位置: x=50, y=1210
2025-08-28 00:30:22 - INFO -   🎞️ 添加GIF叠加: v2 + gif -> v3
2025-08-28 00:30:22 - INFO -     位置: x=800, y=200
2025-08-28 00:30:22 - INFO -     修复说明: 使用兼容的overlay语法，移除format参数
2025-08-28 00:30:22 - INFO -   📝 添加字幕叠加: v3 + s1 -> 最终输出
2025-08-28 00:30:22 - INFO -     位置: x=187, y=727
2025-08-28 00:30:22 - INFO -     随机位置: True
2025-08-28 00:30:22 - INFO -   🔗 最终过滤器链: [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto
2025-08-28 00:30:22 - INFO - 🚿 【素材状态调试】完整状态检查
2025-08-28 00:30:22 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:22 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:22 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:22 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:22 - INFO -   enable_music: True, music_path: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music
2025-08-28 00:30:22 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO - 🚿 【素材状态调试】
2025-08-28 00:30:22 - INFO - 🚿 【素材状态调试】
2025-08-28 00:30:22 - INFO - 🚿 【素材状态调试】
2025-08-28 00:30:22 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:22 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:22 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:22 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:22 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:22 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:22 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:22 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:22 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:22 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:22 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:22 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:22 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png
2025-08-28 00:30:22 - INFO -   📸 图片详细状态: final_image_path=/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/1.png
2025-08-28 00:30:22 - INFO -   📸 图片文件存在: True
2025-08-28 00:30:22 - INFO -   📸 图片大小: 906994 字节
2025-08-28 00:30:22 - INFO -   🎞️ GIF详细状态: processed_gif_path=/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif
2025-08-28 00:30:22 - INFO -   🎞️ GIF文件存在: True
2025-08-28 00:30:22 - INFO -   🎵 音乐详细状态: music_path=/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music
2025-08-28 00:30:22 - INFO -   🎵 音乐路径存在: True
2025-08-28 00:30:22 - INFO - 【音乐处理】启用背景音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music, 模式: sequence, 音量: 71%
2025-08-28 00:30:22 - INFO - 【音乐处理】启用背景音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music, 模式: sequence, 音量: 71%
2025-08-28 00:30:22 - INFO - 【音乐处理】启用背景音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music, 模式: sequence, 音量: 71%
2025-08-28 00:30:22 - INFO - 【音乐处理】选择第一个音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3
2025-08-28 00:30:22 - INFO - 【音乐处理】选择第一个音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3
2025-08-28 00:30:22 - INFO - 【音乐处理】选择第一个音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3
2025-08-28 00:30:22 - INFO - 【音乐处理】添加音乐输入，索引: 1
2025-08-28 00:30:22 - INFO - 【音乐处理】添加音乐输入，索引: 1
2025-08-28 00:30:22 - INFO - 【音乐处理】添加音乐输入，索引: 1
2025-08-28 00:30:22 - INFO - 🎨 使用自定义质量设置: CRF=18, Preset=slow, Profile=high
2025-08-28 00:30:22 - INFO - 🎨 使用自定义质量设置: CRF=18, Preset=slow, Profile=high
2025-08-28 00:30:22 - INFO - 🎨 使用自定义质量设置: CRF=18, Preset=slow, Profile=high
2025-08-28 00:30:22 - INFO - 🎨 质量参数: Level=4.1, MaxRate=8000kbps, BufSize=16000kbps
2025-08-28 00:30:22 - INFO - 🎨 质量参数: Level=4.1, MaxRate=8000kbps, BufSize=16000kbps
2025-08-28 00:30:22 - INFO - 🎨 质量参数: Level=4.1, MaxRate=8000kbps, BufSize=16000kbps
2025-08-28 00:30:22 - INFO - 🎨 高级参数: GOP=30, Tune=film, PixFmt=yuv420p
2025-08-28 00:30:22 - INFO - 🎨 高级参数: GOP=30, Tune=film, PixFmt=yuv420p
2025-08-28 00:30:22 - INFO - 🎨 高级参数: GOP=30, Tune=film, PixFmt=yuv420p
2025-08-28 00:30:22 - INFO - 【音乐处理】音量比例: 0.71
2025-08-28 00:30:22 - INFO - 【音乐处理】音量比例: 0.71
2025-08-28 00:30:22 - INFO - 【音乐处理】音量比例: 0.71
2025-08-28 00:30:22 - INFO - 【音乐处理】添加音频编码参数，音量: 71%
2025-08-28 00:30:22 - INFO - 【音乐处理】添加音频编码参数，音量: 71%
2025-08-28 00:30:22 - INFO - 【音乐处理】添加音频编码参数，音量: 71%
2025-08-28 00:30:22 - INFO - 🎥 执行最终FFmpeg命令
2025-08-28 00:30:22 - INFO -   命令长度: 52 个参数
2025-08-28 00:30:22 - INFO -   输入文件数: 2
2025-08-28 00:30:22 - INFO -   输出文件: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO -   完整命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=187:y='if(lt(t,3.0),1970-(1970-727)*t/3.0,727)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4
2025-08-28 00:30:22 - INFO - 🎥 执行FFmpeg命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0y5j2xv4/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/processed_gif.gif...
2025-08-28 00:30:27 - INFO - ✅ FFmpeg命令执行成功
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 🎥 执行FFmpeg命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmppdqnzzwn/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4...
2025-08-28 00:30:27 - INFO - ✅ FFmpeg命令执行成功
2025-08-28 00:30:27 - INFO - 成功添加字幕动画，输出到: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 成功添加字幕动画，输出到: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 成功添加字幕动画，输出到: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - ✅ 执行完成: add_subtitle_to_video
2025-08-28 00:30:27 - INFO - 📤 返回结果: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 视频处理完成: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - 视频处理完成: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - ✅ 执行完成: process_video
2025-08-28 00:30:27 - INFO - 📤 返回结果: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/1_processed.mp4
2025-08-28 00:30:27 - INFO - ✅ 视频处理成功: 1.mp4 (耗时: 6.0秒)
2025-08-28 00:30:27 - INFO - 🎥 开始处理视频 2/2: 2.mp4
2025-08-28 00:30:27 - INFO - 🚀 开始执行: process_video
2025-08-28 00:30:27 - INFO - 📥 参数: args=('/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4', '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4', 'random', 'malay', True, 50, 1210, 40, 0, 1420, 550, 180, 500, -50, 1230, True, True, False, True, True, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music', 'sequence', 71, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv', True, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif', 30, 1.0, 800, 200, 1.1, '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image', 600), kwargs={'quality_settings': {'crf_value': 18, 'preset_value': 'slow', 'profile_value': 'high', 'level_value': '4.1', 'maxrate_value': 8000, 'bufsize_value': 16000, 'gop_value': 30, 'tune_value': 'film', 'pixfmt_value': 'yuv420p'}}
2025-08-28 00:30:27 - INFO - 开始处理视频: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4
2025-08-28 00:30:27 - INFO - 开始处理视频: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4
2025-08-28 00:30:27 - INFO - 图片位置设置: 水平=50（宽度比例）, 垂直=1210（像素偏移）
2025-08-28 00:30:27 - INFO - 图片位置设置: 水平=50（宽度比例）, 垂直=1210（像素偏移）
2025-08-28 00:30:27 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3
2025-08-28 00:30:27 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3
2025-08-28 00:30:27 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:27 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:27 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:27 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:27 - INFO - 视频 (10.052993秒): 进行水印处理，缩放系数: 1.1
2025-08-28 00:30:27 - INFO - 视频 (10.052993秒): 进行水印处理，缩放系数: 1.1
2025-08-28 00:30:27 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:27 - INFO - 视频信息: 1080x1912, 10.052993秒
2025-08-28 00:30:27 - INFO - 【去水印】原始视频尺寸: 1080x1912
2025-08-28 00:30:27 - INFO - 【去水印】原始视频尺寸: 1080x1912
2025-08-28 00:30:27 - INFO - 【去水印】缩放系数: 1.1
2025-08-28 00:30:27 - INFO - 【去水印】缩放系数: 1.1
2025-08-28 00:30:27 - INFO - 【去水印】铺满缩放比例: 1.004
2025-08-28 00:30:27 - INFO - 【去水印】铺满缩放比例: 1.004
2025-08-28 00:30:27 - INFO - 【去水印】最终缩放比例: 1.105
2025-08-28 00:30:27 - INFO - 【去水印】最终缩放比例: 1.105
2025-08-28 00:30:27 - INFO - 【去水印】缩放后尺寸: 1192x2112
2025-08-28 00:30:27 - INFO - 【去水印】缩放后尺寸: 1192x2112
2025-08-28 00:30:27 - INFO - 【去水印】裁剪位置: (56, 96)
2025-08-28 00:30:27 - INFO - 【去水印】裁剪位置: (56, 96)
2025-08-28 00:30:27 - INFO - 【去水印】裁剪尺寸: 1080x1920
2025-08-28 00:30:27 - INFO - 【去水印】裁剪尺寸: 1080x1920
2025-08-28 00:30:27 - INFO - 【去水印】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4
2025-08-28 00:30:27 - INFO - 【去水印】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4
2025-08-28 00:30:27 - INFO - 执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p -profile:v main -level 3.1 -preset ultrafast -brand mp42 -tag:v avc1 -an /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4
2025-08-28 00:30:27 - INFO - 🎥 执行FFmpeg命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4 -vf scale=1192:2112,crop=1080:1920:56:96 -c:v libx264 -pix_fmt yuv420p...
2025-08-28 00:30:28 - INFO - ✅ FFmpeg命令执行成功
2025-08-28 00:30:28 - INFO - 【去水印】处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4
2025-08-28 00:30:28 - INFO - 【去水印】处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4
2025-08-28 00:30:28 - INFO - 🚀 开始执行: add_subtitle_to_video
2025-08-28 00:30:28 - INFO - 📥 参数: args=(PosixPath('/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4'), '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4', 'random', 'malay', '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/video/2.mp4'), kwargs={'quicktime_compatible': True, 'img_position_x': 50, 'img_position_y': 1210, 'font_size': 40, 'subtitle_x': 0, 'subtitle_y': 1420, 'bg_width': 550, 'bg_height': 180, 'img_size': 500, 'subtitle_text_x': -50, 'subtitle_text_y': 1230, 'random_position': True, 'enable_subtitle': True, 'enable_background': False, 'enable_image': True, 'enable_music': True, 'music_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music', 'music_mode': 'sequence', 'music_volume': 71, 'document_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv', 'enable_gif': True, 'gif_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif', 'gif_loop_count': 30, 'gif_scale': 1.0, 'gif_x': 800, 'gif_y': 200, 'scale_factor': 1.1, 'image_path': '/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image', 'subtitle_width': 600, 'quality_settings': {'crf_value': 18, 'preset_value': 'slow', 'profile_value': 'high', 'level_value': '4.1', 'maxrate_value': 8000, 'bufsize_value': 16000, 'gop_value': 30, 'tune_value': 'film', 'pixfmt_value': 'yuv420p'}}
2025-08-28 00:30:28 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd
2025-08-28 00:30:28 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd
2025-08-28 00:30:28 - INFO - 使用临时目录: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd
2025-08-28 00:30:28 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:28 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:28 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:28 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:28 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:28 - INFO - 视频信息: 1080x1920, 10.033333秒
2025-08-28 00:30:28 - INFO - 使用用户选择的文档文件: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv
2025-08-28 00:30:28 - INFO - 使用用户选择的文档文件: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv
2025-08-28 00:30:28 - INFO - 使用用户选择的文档文件: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/config/subtitle_utf-8.csv
2025-08-28 00:30:28 - INFO - 成功加载用户文档: 30 条记录
2025-08-28 00:30:28 - INFO - 成功加载用户文档: 30 条记录
2025-08-28 00:30:28 - INFO - 成功加载用户文档: 30 条记录
2025-08-28 00:30:28 - INFO - 文档列名: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 文档列名: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 文档列名: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:28 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:28 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:28 - INFO - 非中文语言，选择非中文样式: style8
2025-08-28 00:30:28 - INFO - 非中文语言，选择非中文样式: style8
2025-08-28 00:30:28 - INFO - 非中文语言，选择非中文样式: style8
2025-08-28 00:30:28 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(519, 717)
2025-08-28 00:30:28 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(519, 717)
2025-08-28 00:30:28 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(519, 717)
2025-08-28 00:30:28 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:28 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:28 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:28 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:28 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:28 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:28 - INFO - 🎲 随机字幕位置: 原始(-50, 1230) -> 随机(519, 717)
2025-08-28 00:30:28 - INFO - 📎 边界检查: X范围[60, 620], Y范围[250, 1690], 字幕宽度=600, 实际宽度=400
2025-08-28 00:30:28 - INFO - 🖥️ 视频尺寸: 1080x1920, 可用区域: 560x1440
2025-08-28 00:30:28 - INFO - 🎬 【素材状态调试】图片功能启用状态: True
2025-08-28 00:30:28 - INFO - 🎬 【素材状态调试】图片功能启用状态: True
2025-08-28 00:30:28 - INFO - 🎬 【素材状态调试】图片功能启用状态: True
2025-08-28 00:30:28 - INFO - 📁 图片功能已启用，开始查找匹配图片...
2025-08-28 00:30:28 - INFO - 📁 图片功能已启用，开始查找匹配图片...
2025-08-28 00:30:28 - INFO - 📁 图片功能已启用，开始查找匹配图片...
2025-08-28 00:30:28 - INFO - 📁 使用原始视频名查找图片: 2
2025-08-28 00:30:28 - INFO - 📁 使用原始视频名查找图片: 2
2025-08-28 00:30:28 - INFO - 📁 使用原始视频名查找图片: 2
2025-08-28 00:30:28 - INFO - 查找匹配图片，视频名称: 2
2025-08-28 00:30:28 - INFO - 查找匹配图片，视频名称: 2
2025-08-28 00:30:28 - INFO - 查找匹配图片，视频名称: 2
2025-08-28 00:30:28 - INFO - 使用用户自定义图片目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:28 - INFO - 使用用户自定义图片目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:28 - INFO - 使用用户自定义图片目录: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:28 - INFO - 最终图片目录路径: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:28 - INFO - 最终图片目录路径: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:28 - INFO - 最终图片目录路径: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image
2025-08-28 00:30:28 - INFO - 目录中的文件数量: 4
2025-08-28 00:30:28 - INFO - 目录中的文件数量: 4
2025-08-28 00:30:28 - INFO - 目录中的文件数量: 4
2025-08-28 00:30:28 - INFO - 目录中的所有文件: ['.DS_Store', '2.png', '3.png', '1.png']
2025-08-28 00:30:28 - INFO - 目录中的所有文件: ['.DS_Store', '2.png', '3.png', '1.png']
2025-08-28 00:30:28 - INFO - 目录中的所有文件: ['.DS_Store', '2.png', '3.png', '1.png']
2025-08-28 00:30:28 - INFO - 找到完全匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - 找到完全匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - 找到完全匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - ✅ 找到匹配的图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - 【图片流程】处理图片 /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png，大小设置为 500x500
2025-08-28 00:30:28 - INFO - 【图片流程】处理图片 /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png，大小设置为 500x500
2025-08-28 00:30:28 - INFO - 【图片流程】处理图片 /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png，大小设置为 500x500
2025-08-28 00:30:28 - INFO - 【图片处理】原始图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - 【图片处理】原始图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - 【图片处理】原始图片: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:28 - INFO - 【图片处理】目标大小: (500, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】目标大小: (500, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】目标大小: (500, 500)
2025-08-28 00:30:28 - DEBUG - STREAM b'IHDR' 16 13
2025-08-28 00:30:28 - DEBUG - STREAM b'eXIf' 41 130
2025-08-28 00:30:28 - DEBUG - STREAM b'IDAT' 183 8192
2025-08-28 00:30:28 - INFO - 【图片处理】原始图片大小: (1125, 2436)
2025-08-28 00:30:28 - INFO - 【图片处理】原始图片大小: (1125, 2436)
2025-08-28 00:30:28 - INFO - 【图片处理】原始图片大小: (1125, 2436)
2025-08-28 00:30:28 - INFO - 【图片处理】缩放后图片大小: (230, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】缩放后图片大小: (230, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】缩放后图片大小: (230, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】图片处理完成，保存到: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:28 - INFO - 【图片处理】图片处理完成，保存到: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:28 - INFO - 【图片处理】图片处理完成，保存到: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:28 - DEBUG - STREAM b'IHDR' 16 13
2025-08-28 00:30:28 - DEBUG - STREAM b'IDAT' 41 65536
2025-08-28 00:30:28 - INFO - 【图片处理】验证处理后图片大小: (230, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】验证处理后图片大小: (230, 500)
2025-08-28 00:30:28 - INFO - 【图片处理】验证处理后图片大小: (230, 500)
2025-08-28 00:30:28 - INFO - ✅ 【图片流程】图片处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:28 - INFO - ✅ 【图片流程】图片处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:28 - INFO - ✅ 【图片流程】图片处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:28 - INFO - 【GIF流程】处理GIF /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif，缩放系数: 1.0，位置: (800, 200)，循环次数: 30
2025-08-28 00:30:28 - INFO - 【GIF流程】处理GIF /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif，缩放系数: 1.0，位置: (800, 200)，循环次数: 30
2025-08-28 00:30:28 - INFO - 【GIF流程】处理GIF /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif，缩放系数: 1.0，位置: (800, 200)，循环次数: 30
2025-08-28 00:30:28 - INFO - 【GIF流程】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif -vf format=rgba,colorkey=0x000000:0.01:0.1 -pix_fmt rgba -f gif -loop 30 /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:28 - INFO - 【GIF流程】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif -vf format=rgba,colorkey=0x000000:0.01:0.1 -pix_fmt rgba -f gif -loop 30 /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:28 - INFO - 【GIF流程】执行命令: ffmpeg -y -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/gif/1.gif -vf format=rgba,colorkey=0x000000:0.01:0.1 -pix_fmt rgba -f gif -loop 30 /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:28 - INFO - 【GIF流程】GIF处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:28 - INFO - 【GIF流程】GIF处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:28 - INFO - 【GIF流程】GIF处理成功: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:28 - INFO - 
=== 语言映射调试信息 ===
2025-08-28 00:30:28 - INFO - 
=== 语言映射调试信息 ===
2025-08-28 00:30:28 - INFO - 
=== 语言映射调试信息 ===
2025-08-28 00:30:28 - INFO - GUI选择的语言: malay
2025-08-28 00:30:28 - INFO - GUI选择的语言: malay
2025-08-28 00:30:28 - INFO - GUI选择的语言: malay
2025-08-28 00:30:28 - INFO - 用户期望的映射关系:
2025-08-28 00:30:28 - INFO - 用户期望的映射关系:
2025-08-28 00:30:28 - INFO - 用户期望的映射关系:
2025-08-28 00:30:28 - INFO -   中文 (chinese) → zn列
2025-08-28 00:30:28 - INFO -   中文 (chinese) → zn列
2025-08-28 00:30:28 - INFO -   中文 (chinese) → zn列
2025-08-28 00:30:28 - INFO -   马来语 (malay) → malay_title列
2025-08-28 00:30:28 - INFO -   马来语 (malay) → malay_title列
2025-08-28 00:30:28 - INFO -   马来语 (malay) → malay_title列
2025-08-28 00:30:28 - INFO -   泰语 (thai) → title_thai列
2025-08-28 00:30:28 - INFO -   泰语 (thai) → title_thai列
2025-08-28 00:30:28 - INFO -   泰语 (thai) → title_thai列
2025-08-28 00:30:28 - INFO - 当前文档可用列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 当前文档可用列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 当前文档可用列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - =========================
2025-08-28 00:30:28 - INFO - =========================
2025-08-28 00:30:28 - INFO - =========================
2025-08-28 00:30:28 - INFO - 可用的文档列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 可用的文档列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - 可用的文档列: ['name', 'style', 'malay_title', 'title_thai', 'zn', 'subtitle']
2025-08-28 00:30:28 - INFO - ✅ 马来语映射成功：从 'malay_title' 列随机选择字幕: Grab cepat Stok laris seperti roti canai
2025-08-28 00:30:28 - INFO - ✅ 马来语映射成功：从 'malay_title' 列随机选择字幕: Grab cepat Stok laris seperti roti canai
2025-08-28 00:30:28 - INFO - ✅ 马来语映射成功：从 'malay_title' 列随机选择字幕: Grab cepat Stok laris seperti roti canai
2025-08-28 00:30:28 - INFO - 传递给create_subtitle_image的字体大小: 40
2025-08-28 00:30:28 - INFO - 传递给create_subtitle_image的字体大小: 40
2025-08-28 00:30:28 - INFO - 传递给create_subtitle_image的字体大小: 40
2025-08-28 00:30:28 - INFO - 创建字幕图片: 宽=1280, 高=500, 字体大小=40, 样式=style8
2025-08-28 00:30:28 - INFO - 创建字幕图片: 宽=1280, 高=500, 字体大小=40, 样式=style8
2025-08-28 00:30:28 - INFO - 创建字幕图片: 宽=1280, 高=500, 字体大小=40, 样式=style8
2025-08-28 00:30:28 - INFO - 字幕内容: Grab cepat Stok laris seperti roti canai
2025-08-28 00:30:28 - INFO - 字幕内容: Grab cepat Stok laris seperti roti canai
2025-08-28 00:30:28 - INFO - 字幕内容: Grab cepat Stok laris seperti roti canai
2025-08-28 00:30:28 - INFO - 是否包含中文: False
2025-08-28 00:30:28 - INFO - 是否包含中文: False
2025-08-28 00:30:28 - INFO - 是否包含中文: False
2025-08-28 00:30:28 - INFO - 是否包含泰文: False
2025-08-28 00:30:28 - INFO - 是否包含泰文: False
2025-08-28 00:30:28 - INFO - 是否包含泰文: False
2025-08-28 00:30:28 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:28 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:28 - INFO - 成功加载样式配置: config/subtitle_styles.ini
2025-08-28 00:30:28 - INFO - 成功加载样式配置: {'font_path': 'data/fonts/Kanit-Bold.ttf', 'font_size': 72, 'text_color': [220, 255, 0, 255], 'stroke_color': [0, 100, 0, 255], 'stroke_width': 7, 'white_stroke_ratio': 1.4, 'shadow': True, 'shadow_color': [0, 0, 0, 130], 'shadow_offset': [4, 4]}
2025-08-28 00:30:28 - INFO - 成功加载样式配置: {'font_path': 'data/fonts/Kanit-Bold.ttf', 'font_size': 72, 'text_color': [220, 255, 0, 255], 'stroke_color': [0, 100, 0, 255], 'stroke_width': 7, 'white_stroke_ratio': 1.4, 'shadow': True, 'shadow_color': [0, 0, 0, 130], 'shadow_offset': [4, 4]}
2025-08-28 00:30:28 - INFO - 成功加载样式配置: {'font_path': 'data/fonts/Kanit-Bold.ttf', 'font_size': 72, 'text_color': [220, 255, 0, 255], 'stroke_color': [0, 100, 0, 255], 'stroke_width': 7, 'white_stroke_ratio': 1.4, 'shadow': True, 'shadow_color': [0, 0, 0, 130], 'shadow_offset': [4, 4]}
2025-08-28 00:30:28 - INFO - 使用自定义字体路径: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 使用自定义字体路径: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 使用自定义字体路径: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 使用传入的字体大小: 40
2025-08-28 00:30:28 - INFO - 使用传入的字体大小: 40
2025-08-28 00:30:28 - INFO - 使用传入的字体大小: 40
2025-08-28 00:30:28 - INFO - 使用自定义文本颜色: (220, 255, 0, 255)
2025-08-28 00:30:28 - INFO - 使用自定义文本颜色: (220, 255, 0, 255)
2025-08-28 00:30:28 - INFO - 使用自定义文本颜色: (220, 255, 0, 255)
2025-08-28 00:30:28 - INFO - 使用自定义描边颜色: (0, 100, 0, 255)
2025-08-28 00:30:28 - INFO - 使用自定义描边颜色: (0, 100, 0, 255)
2025-08-28 00:30:28 - INFO - 使用自定义描边颜色: (0, 100, 0, 255)
2025-08-28 00:30:28 - INFO - 使用自定义描边宽度: 7
2025-08-28 00:30:28 - INFO - 使用自定义描边宽度: 7
2025-08-28 00:30:28 - INFO - 使用自定义描边宽度: 7
2025-08-28 00:30:28 - INFO - 使用自定义白色描边比例: 1.4
2025-08-28 00:30:28 - INFO - 使用自定义白色描边比例: 1.4
2025-08-28 00:30:28 - INFO - 使用自定义白色描边比例: 1.4
2025-08-28 00:30:28 - INFO - 使用自定义阴影设置: True
2025-08-28 00:30:28 - INFO - 使用自定义阴影设置: True
2025-08-28 00:30:28 - INFO - 使用自定义阴影设置: True
2025-08-28 00:30:28 - INFO - 使用自定义阴影颜色: (0, 0, 0, 130)
2025-08-28 00:30:28 - INFO - 使用自定义阴影颜色: (0, 0, 0, 130)
2025-08-28 00:30:28 - INFO - 使用自定义阴影颜色: (0, 0, 0, 130)
2025-08-28 00:30:28 - INFO - 使用自定义阴影偏移: [4, 4]
2025-08-28 00:30:28 - INFO - 使用自定义阴影偏移: [4, 4]
2025-08-28 00:30:28 - INFO - 使用自定义阴影偏移: [4, 4]
2025-08-28 00:30:28 - INFO - 找到字体文件: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 找到字体文件: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 找到字体文件: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 找到字体文件: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 找到字体文件: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 找到字体文件: data/fonts/Kanit-Bold.ttf
2025-08-28 00:30:28 - INFO - 成功加载字体 data/fonts/Kanit-Bold.ttf，大小: 40
2025-08-28 00:30:28 - INFO - 成功加载字体 data/fonts/Kanit-Bold.ttf，大小: 40
2025-08-28 00:30:28 - INFO - 成功加载字体 data/fonts/Kanit-Bold.ttf，大小: 40
2025-08-28 00:30:28 - INFO - 原始行数: 1, 自动换行后行数: 2
2025-08-28 00:30:28 - INFO - 原始行数: 1, 自动换行后行数: 2
2025-08-28 00:30:28 - INFO - 原始行数: 1, 自动换行后行数: 2
2025-08-28 00:30:28 - INFO - 字幕最大宽度设置: 600px
2025-08-28 00:30:28 - INFO - 字幕最大宽度设置: 600px
2025-08-28 00:30:28 - INFO - 字幕最大宽度设置: 600px
2025-08-28 00:30:28 - INFO - 行高: 52, 总高度: 104, 起始Y: 198
2025-08-28 00:30:28 - INFO - 行高: 52, 总高度: 104, 起始Y: 198
2025-08-28 00:30:28 - INFO - 行高: 52, 总高度: 104, 起始Y: 198
2025-08-28 00:30:28 - INFO - 行 1: 宽度=526.640625, X=376.0, Y=198
2025-08-28 00:30:28 - INFO - 行 1: 宽度=526.640625, X=376.0, Y=198
2025-08-28 00:30:28 - INFO - 行 1: 宽度=526.640625, X=376.0, Y=198
2025-08-28 00:30:29 - INFO - 行 2: 宽度=178.328125, X=550.0, Y=250
2025-08-28 00:30:29 - INFO - 行 2: 宽度=178.328125, X=550.0, Y=250
2025-08-28 00:30:29 - INFO - 行 2: 宽度=178.328125, X=550.0, Y=250
2025-08-28 00:30:29 - INFO - 字幕图片已保存: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 字幕图片已保存: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 字幕图片已保存: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 字幕图片生成成功，路径: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 字幕图片生成成功，路径: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 字幕图片生成成功，路径: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 背景功能已禁用，跳过背景生成
2025-08-28 00:30:29 - INFO - 背景功能已禁用，跳过背景生成
2025-08-28 00:30:29 - INFO - 背景功能已禁用，跳过背景生成
2025-08-28 00:30:29 - INFO - 【位置调试】背景位置: x=0, y=1420, 宽=550, 高=180
2025-08-28 00:30:29 - INFO - 【位置调试】背景位置: x=0, y=1420, 宽=550, 高=180
2025-08-28 00:30:29 - INFO - 【位置调试】背景位置: x=0, y=1420, 宽=550, 高=180
2025-08-28 00:30:29 - INFO - 【位置调试】字幕位置: x=519, y=717, 字体大小=40
2025-08-28 00:30:29 - INFO - 【位置调试】字幕位置: x=519, y=717, 字体大小=40
2025-08-28 00:30:29 - INFO - 【位置调试】字幕位置: x=519, y=717, 字体大小=40
2025-08-28 00:30:29 - INFO - 【位置调试】图片位置: x=50, y=1210, 大小=500
2025-08-28 00:30:29 - INFO - 【位置调试】图片位置: x=50, y=1210, 大小=500
2025-08-28 00:30:29 - INFO - 【位置调试】图片位置: x=50, y=1210, 大小=500
2025-08-28 00:30:29 - INFO - 【位置调试】传入的参数: img_position_x=50, img_position_y=1210
2025-08-28 00:30:29 - INFO - 【位置调试】传入的参数: img_position_x=50, img_position_y=1210
2025-08-28 00:30:29 - INFO - 【位置调试】传入的参数: img_position_x=50, img_position_y=1210
2025-08-28 00:30:29 - INFO - 【位置调试】字幕动画参数: 入场时间=3.0秒, 起始位置=(519, 1970), 最终位置=(519, 717)
2025-08-28 00:30:29 - INFO - 【位置调试】字幕动画参数: 入场时间=3.0秒, 起始位置=(519, 1970), 最终位置=(519, 717)
2025-08-28 00:30:29 - INFO - 【位置调试】字幕动画参数: 入场时间=3.0秒, 起始位置=(519, 1970), 最终位置=(519, 717)
2025-08-28 00:30:29 - INFO - 【位置调试】背景动画参数: 入场时间=3.0秒, 起始位置=(-550, 1420), 最终位置=(0, 1420)
2025-08-28 00:30:29 - INFO - 【位置调试】背景动画参数: 入场时间=3.0秒, 起始位置=(-550, 1420), 最终位置=(0, 1420)
2025-08-28 00:30:29 - INFO - 【位置调试】背景动画参数: 入场时间=3.0秒, 起始位置=(-550, 1420), 最终位置=(0, 1420)
2025-08-28 00:30:29 - INFO - 【位置调试】图片动画参数: 入场时间=3.0秒, 起始位置=(-500, 1210), 最终位置=(50, 1210)
2025-08-28 00:30:29 - INFO - 【位置调试】图片动画参数: 入场时间=3.0秒, 起始位置=(-500, 1210), 最终位置=(50, 1210)
2025-08-28 00:30:29 - INFO - 【位置调试】图片动画参数: 入场时间=3.0秒, 起始位置=(-500, 1210), 最终位置=(50, 1210)
2025-08-28 00:30:29 - INFO - 📍 最终位置参数: 字幕=(519, 717), 背景=(0, 1420), 图片=(50, 1210)
2025-08-28 00:30:29 - INFO - 应用QuickTime兼容性参数
2025-08-28 00:30:29 - INFO - 应用QuickTime兼容性参数
2025-08-28 00:30:29 - INFO - 应用QuickTime兼容性参数
2025-08-28 00:30:29 - INFO - 🔨 开始添加输入文件
2025-08-28 00:30:29 - INFO -   📝 添加字幕输入: 索引1, 文件/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO -   📸 添加图片输入: 索引2, 文件/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png
2025-08-28 00:30:29 - INFO -   🎞️ 添加GIF输入: 索引3, 文件/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:29 - INFO -   📊 总输入文件数: 4 (包括主视频)
2025-08-28 00:30:29 - INFO - 🔍 开始构建过滤器链
2025-08-28 00:30:29 - INFO -   🎬 基础视频流: [0:v] -> [v1]
2025-08-28 00:30:29 - INFO - 🎨 格式化图层
2025-08-28 00:30:29 - INFO -   📝 字幕图层: [1:v] -> [s1]
2025-08-28 00:30:29 - INFO -   📸 图片图层: [2:v] -> [img]
2025-08-28 00:30:29 - INFO -   🎞️ GIF图层: [3:v] -> [gif]
2025-08-28 00:30:29 - INFO - 🔄 开始叠加层处理
2025-08-28 00:30:29 - INFO -   📸 添加图片叠加: v1 + img -> v2
2025-08-28 00:30:29 - INFO -     位置: x=50, y=1210
2025-08-28 00:30:29 - INFO -   🎞️ 添加GIF叠加: v2 + gif -> v3
2025-08-28 00:30:29 - INFO -     位置: x=800, y=200
2025-08-28 00:30:29 - INFO -     修复说明: 使用兼容的overlay语法，移除format参数
2025-08-28 00:30:29 - INFO -   📝 添加字幕叠加: v3 + s1 -> 最终输出
2025-08-28 00:30:29 - INFO -     位置: x=519, y=717
2025-08-28 00:30:29 - INFO -     随机位置: True
2025-08-28 00:30:29 - INFO -   🔗 最终过滤器链: [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto
2025-08-28 00:30:29 - INFO - 🚿 【素材状态调试】完整状态检查
2025-08-28 00:30:29 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:29 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:29 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:29 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:29 - INFO -   enable_music: True, music_path: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music
2025-08-28 00:30:29 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO - 🚿 【素材状态调试】
2025-08-28 00:30:29 - INFO - 🚿 【素材状态调试】
2025-08-28 00:30:29 - INFO - 🚿 【素材状态调试】
2025-08-28 00:30:29 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:29 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:29 - INFO -   enable_subtitle: True, subtitle_img: True
2025-08-28 00:30:29 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:29 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:29 - INFO -   enable_background: False, bg_img: False
2025-08-28 00:30:29 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:29 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:29 - INFO -   enable_image: True, has_image: True
2025-08-28 00:30:29 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:29 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:29 - INFO -   enable_gif: True, has_gif: True
2025-08-28 00:30:29 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO -   has_any_overlay: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png
2025-08-28 00:30:29 - INFO -   📸 图片详细状态: final_image_path=/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/image/2.png
2025-08-28 00:30:29 - INFO -   📸 图片文件存在: True
2025-08-28 00:30:29 - INFO -   📸 图片大小: 1845099 字节
2025-08-28 00:30:29 - INFO -   🎞️ GIF详细状态: processed_gif_path=/var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif
2025-08-28 00:30:29 - INFO -   🎞️ GIF文件存在: True
2025-08-28 00:30:29 - INFO -   🎵 音乐详细状态: music_path=/Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music
2025-08-28 00:30:29 - INFO -   🎵 音乐路径存在: True
2025-08-28 00:30:29 - INFO - 【音乐处理】启用背景音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music, 模式: sequence, 音量: 71%
2025-08-28 00:30:29 - INFO - 【音乐处理】启用背景音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music, 模式: sequence, 音量: 71%
2025-08-28 00:30:29 - INFO - 【音乐处理】启用背景音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music, 模式: sequence, 音量: 71%
2025-08-28 00:30:29 - INFO - 【音乐处理】选择第一个音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3
2025-08-28 00:30:29 - INFO - 【音乐处理】选择第一个音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3
2025-08-28 00:30:29 - INFO - 【音乐处理】选择第一个音乐: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3
2025-08-28 00:30:29 - INFO - 【音乐处理】添加音乐输入，索引: 1
2025-08-28 00:30:29 - INFO - 【音乐处理】添加音乐输入，索引: 1
2025-08-28 00:30:29 - INFO - 【音乐处理】添加音乐输入，索引: 1
2025-08-28 00:30:29 - INFO - 🎨 使用自定义质量设置: CRF=18, Preset=slow, Profile=high
2025-08-28 00:30:29 - INFO - 🎨 使用自定义质量设置: CRF=18, Preset=slow, Profile=high
2025-08-28 00:30:29 - INFO - 🎨 使用自定义质量设置: CRF=18, Preset=slow, Profile=high
2025-08-28 00:30:29 - INFO - 🎨 质量参数: Level=4.1, MaxRate=8000kbps, BufSize=16000kbps
2025-08-28 00:30:29 - INFO - 🎨 质量参数: Level=4.1, MaxRate=8000kbps, BufSize=16000kbps
2025-08-28 00:30:29 - INFO - 🎨 质量参数: Level=4.1, MaxRate=8000kbps, BufSize=16000kbps
2025-08-28 00:30:29 - INFO - 🎨 高级参数: GOP=30, Tune=film, PixFmt=yuv420p
2025-08-28 00:30:29 - INFO - 🎨 高级参数: GOP=30, Tune=film, PixFmt=yuv420p
2025-08-28 00:30:29 - INFO - 🎨 高级参数: GOP=30, Tune=film, PixFmt=yuv420p
2025-08-28 00:30:29 - INFO - 【音乐处理】音量比例: 0.71
2025-08-28 00:30:29 - INFO - 【音乐处理】音量比例: 0.71
2025-08-28 00:30:29 - INFO - 【音乐处理】音量比例: 0.71
2025-08-28 00:30:29 - INFO - 【音乐处理】添加音频编码参数，音量: 71%
2025-08-28 00:30:29 - INFO - 【音乐处理】添加音频编码参数，音量: 71%
2025-08-28 00:30:29 - INFO - 【音乐处理】添加音频编码参数，音量: 71%
2025-08-28 00:30:29 - INFO - 🎥 执行最终FFmpeg命令
2025-08-28 00:30:29 - INFO -   命令长度: 52 个参数
2025-08-28 00:30:29 - INFO -   输入文件数: 2
2025-08-28 00:30:29 - INFO -   输出文件: /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO -   完整命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif -i /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/data/music/retro-lounge-389644.mp3 -filter_complex [0:v]trim=duration=10.033333[v1];[1:v]format=rgba[s1];[2:v]format=rgba[img];[3:v]format=rgba[gif];[v1][img]overlay=x='if(lt(t,3.0),-500+(50-(-500))*t/3.0,50)':y=1210:shortest=0:format=auto[v2];[v2][gif]overlay=x=800:y=200[v3];[v3][s1]overlay=x=519:y='if(lt(t,3.0),1970-(1970-717)*t/3.0,717)':shortest=0:format=auto -c:v libx264 -pix_fmt yuv420p -profile:v high -level 4.1 -crf 18 -preset slow -movflags +faststart -brand mp42 -tag:v avc1 -maxrate 8000k -bufsize 16000k -g 30 -keyint_min 15 -sc_threshold 40 -tune film -c:a aac -b:a 128k -af volume=0.71 -shortest /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4
2025-08-28 00:30:29 - INFO - 🎥 执行FFmpeg命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmp0lk9yfa3/resized.mp4 -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/subtitle.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_image.png -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/processed_gif.gif...
2025-08-28 00:30:34 - INFO - ✅ FFmpeg命令执行成功
2025-08-28 00:30:34 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 执行命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 🎥 执行FFmpeg命令: ffmpeg -y -i /var/folders/cm/7sr8jqqx1p1d579py4w6l96r0000gn/T/tmpl1upgfkd/with_subtitle.mp4 -c copy -movflags +faststart /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4...
2025-08-28 00:30:34 - INFO - ✅ FFmpeg命令执行成功
2025-08-28 00:30:34 - INFO - 成功添加字幕动画，输出到: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 成功添加字幕动画，输出到: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 成功添加字幕动画，输出到: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - ✅ 执行完成: add_subtitle_to_video
2025-08-28 00:30:34 - INFO - 📤 返回结果: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 视频处理完成: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - 视频处理完成: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - ✅ 执行完成: process_video
2025-08-28 00:30:34 - INFO - 📤 返回结果: /Users/jerry/Documents/VS code file/video_title_image_music/VideoApp/output/2_processed.mp4
2025-08-28 00:30:34 - INFO - ✅ 视频处理成功: 2.mp4 (耗时: 6.8秒)
2025-08-28 00:30:34 - INFO - 📊 批量处理完成: 成功 2/2, 总耗时 12.8秒
